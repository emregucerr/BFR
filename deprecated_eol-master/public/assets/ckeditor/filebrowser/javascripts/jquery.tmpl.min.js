/*
 * jQuery Templates Plugin 1.0.0pre
 * http://github.com/jquery/jquery-tmpl
 * Requires jQuery 1.4.2
 *
 * Copyright Software Freedom Conservancy, Inc.
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 */
!function(e){function t(t,i,n,s){var r={data:s||0===s||s===!1?s:i?i.data:{},_wrap:i?i._wrap:null,tmpl:null,parent:i||null,nodes:[],calls:c,nest:u,wrap:h,html:d,update:p};return t&&e.extend(r,t,{nodes:[],parent:i}),n&&(r.tmpl=n,r._ctnt=r._ctnt||r.tmpl(e,r),r.key=++w,(k.length?b:y)[w]=r),r}function i(t,s,r){var o,a=r?e.map(r,function(e){return"string"==typeof e?t.key?e.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,"$1 "+g+'="'+t.key+'" $2'):e:i(e,t,e._ctnt)}):t;return s?a:(a=a.join(""),a.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,function(t,i,s,r){o=e(s).get(),l(o),i&&(o=n(i).concat(o)),r&&(o=o.concat(n(r)))}),o?o:n(a))}function n(t){var i=document.createElement("div");return i.innerHTML=t,e.makeArray(i.childNodes)}function s(t){return new Function("jQuery","$item","var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('"+e.trim(t).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,function(t,i,n,s,r,a,l){var c,u,h,d=e.tmpl.tag[n];if(!d)throw"Unknown template tag: "+n;return c=d._default||[],a&&!/\w$/.test(r)&&(r+=a,a=""),r?(r=o(r),l=l?","+o(l)+")":a?")":"",u=a?r.indexOf(".")>-1?r+o(a):"("+r+").call($item"+l:r,h=a?u:"(typeof("+r+")==='function'?("+r+").call($item):("+r+"))"):h=u=c.$1||"null",s=o(s),"');"+d[i?"close":"open"].split("$notnull_1").join(r?"typeof("+r+")!=='undefined' && ("+r+")!=null":"true").split("$1a").join(h).split("$1").join(u).split("$2").join(s||c.$2||"")+"__.push('"})+"');}return __;")}function r(t,n){t._wrap=i(t,!0,e.isArray(n)?n:[v.test(n)?n:e(n).html()]).join("")}function o(e){return e?e.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function a(e){var t=document.createElement("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML}function l(i){function n(i){function n(e){e+=c,o=u[e]=u[e]||t(o,y[o.parent.key+c]||o.parent)}var s,r,o,a,l=i;if(a=i.getAttribute(g)){for(;l.parentNode&&1===(l=l.parentNode).nodeType&&!(s=l.getAttribute(g)););s!==a&&(l=l.parentNode?11===l.nodeType?0:l.getAttribute(g)||0:0,(o=y[a])||(o=b[a],o=t(o,y[l]||b[l]),o.key=++w,y[w]=o),x&&n(a)),i.removeAttribute(g)}else x&&(o=e.data(i,"tmplItem"))&&(n(o.key),y[o.key]=o,l=e.data(i.parentNode,"tmplItem"),l=l?l.key:0);if(o){for(r=o;r&&r.key!=l;)r.nodes.push(i),r=r.parent;delete o._ctnt,delete o._wrap,e.data(i,"tmplItem",o)}}var s,r,o,a,l,c="_"+x,u={};for(o=0,a=i.length;a>o;o++)if(1===(s=i[o]).nodeType){for(r=s.getElementsByTagName("*"),l=r.length-1;l>=0;l--)n(r[l]);n(s)}}function c(e,t,i,n){return e?(k.push({_:e,tmpl:t,item:this,data:i,options:n}),void 0):k.pop()}function u(t,i,n){return e.tmpl(e.template(t),i,n,this)}function h(t,i){var n=t.options||{};return n.wrapped=i,e.tmpl(e.template(t.tmpl),t.data,n,t.item)}function d(t,i){var n=this._wrap;return e.map(e(e.isArray(n)?n.join(""):n).filter(t||"*"),function(e){return i?e.innerText||e.textContent:e.outerHTML||a(e)})}function p(){var t=this.nodes;e.tmpl(null,null,null,this).insertBefore(t[0]),e(t).remove()}var f,m=e.fn.domManip,g="_tmplitem",v=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,y={},b={},_={key:0,data:{}},w=0,x=0,k=[];e.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,i){e.fn[t]=function(n){var s,r,o,a,l=[],c=e(n),u=1===this.length&&this[0].parentNode;if(f=y||{},u&&11===u.nodeType&&1===u.childNodes.length&&1===c.length)c[i](this[0]),l=this;else{for(r=0,o=c.length;o>r;r++)x=r,s=(r>0?this.clone(!0):this).get(),e(c[r])[i](s),l=l.concat(s);x=0,l=this.pushStack(l,t,c.selector)}return a=f,f=null,e.tmpl.complete(a),l}}),e.fn.extend({tmpl:function(t,i,n){return e.tmpl(this[0],t,i,n)},tmplItem:function(){return e.tmplItem(this[0])},template:function(t){return e.template(t,this[0])},domManip:function(t,i,n){if(t[0]&&e.isArray(t[0])){for(var s,r=e.makeArray(arguments),o=t[0],a=o.length,l=0;a>l&&!(s=e.data(o[l++],"tmplItem")););s&&x&&(r[2]=function(t){e.tmpl.afterManip(this,t,n)}),m.apply(this,r)}else m.apply(this,arguments);return x=0,!f&&e.tmpl.complete(y),this}}),e.extend({tmpl:function(n,s,o,a){var l,c=!a;if(c)a=_,n=e.template[n]||e.template(null,n),b={};else if(!n)return n=a.tmpl,y[a.key]=a,a.nodes=[],a.wrapped&&r(a,a.wrapped),e(i(a,null,a.tmpl(e,a)));return n?("function"==typeof s&&(s=s.call(a||{})),o&&o.wrapped&&r(o,o.wrapped),l=e.isArray(s)?e.map(s,function(e){return e?t(o,a,n,e):null}):[t(o,a,n,s)],c?e(i(a,null,l)):l):[]},tmplItem:function(t){var i;for(t instanceof e&&(t=t[0]);t&&1===t.nodeType&&!(i=e.data(t,"tmplItem"))&&(t=t.parentNode););return i||_},template:function(t,i){return i?("string"==typeof i?i=s(i):i instanceof e&&(i=i[0]||{}),i.nodeType&&(i=e.data(i,"tmpl")||e.data(i,"tmpl",s(i.innerHTML))),"string"==typeof t?e.template[t]=i:i):t?"string"!=typeof t?e.template(null,t):e.template[t]||e.template(null,v.test(t)?t:e(t)):null},encode:function(e){return(""+e).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}}),e.extend(e.tmpl,{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){__=__.concat($item.nest($1,$2));}"},wrap:{_default:{$2:"null"},open:"$item.calls(__,$1,$2);__=[];",close:"call=$item.calls();__=call._.concat($item.wrap(call,__));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},"if":{open:"if(($notnull_1) && $1a){",close:"}"},"else":{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){__.push($1a);}"},"=":{_default:{$1:"$data"},open:"if($notnull_1){__.push($.encode($1a));}"},"!":{open:""}},complete:function(){y={}},afterManip:function(t,i,n){var s=11===i.nodeType?e.makeArray(i.childNodes):1===i.nodeType?[i]:[];n.call(t,i),l(s),x++}})}(jQuery);