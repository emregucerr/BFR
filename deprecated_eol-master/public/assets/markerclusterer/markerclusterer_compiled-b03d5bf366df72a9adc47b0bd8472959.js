!function(){function e(e){return function(t){this[e]=t}}function t(e){return function(){return this[e]}}function o(e,t,i){this.extend(o,google.maps.OverlayView),this.c=e,this.a=[],this.f=[],this.ca=[53,56,66,78,90],this.j=[],this.A=!1,i=i||{},this.g=i.gridSize||60,this.l=i.minimumClusterSize||2,this.J=i.maxZoom||g,this.j=i.styles||[],this.X=i.imagePath||this.Q,this.W=i.imageExtension||this.P,this.O=!0,void 0!=i.zoomOnClick&&(this.O=i.zoomOnClick),this.r=!1,void 0!=i.averageCenter&&(this.r=i.averageCenter),n(this),this.setMap(e),this.K=this.c.getZoom();var r=this;google.maps.event.addListener(this.c,"zoom_changed",function(){var e=r.c.getZoom();r.K!=e&&(r.K=e,r.m())}),google.maps.event.addListener(this.c,"idle",function(){r.i()}),t&&t.length&&this.C(t,!1)}function n(e){if(!e.j.length)for(var t,o=0;t=e.ca[o];o++)e.j.push({url:e.X+(o+1)+"."+e.W,height:t,width:t})}function i(e,t){t.s=!1,t.draggable&&google.maps.event.addListener(t,"dragend",function(){t.s=!1,e.L()}),e.a.push(t)}function r(e,t){var o=-1;if(e.a.indexOf)o=e.a.indexOf(t);else for(var n,i=0;n=e.a[i];i++)if(n==t){o=i;break}return-1==o?!1:(t.setMap(g),e.a.splice(o,1),!0)}function a(e){if(e.A)for(var t,o=e.v(new google.maps.LatLngBounds(e.c.getBounds().getSouthWest(),e.c.getBounds().getNorthEast())),n=0;t=e.a[n];n++)if(!t.s&&o.contains(t.getPosition())){for(var i=e,r=4e4,a=g,p=0,l=void 0;l=i.f[p];p++){var h=l.getCenter();if(h){var c=t.getPosition();if(h&&c)var d=(c.lat()-h.lat())*Math.PI/180,u=(c.lng()-h.lng())*Math.PI/180,h=Math.sin(d/2)*Math.sin(d/2)+Math.cos(h.lat()*Math.PI/180)*Math.cos(c.lat()*Math.PI/180)*Math.sin(u/2)*Math.sin(u/2),h=12742*Math.atan2(Math.sqrt(h),Math.sqrt(1-h));else h=0;r>h&&(r=h,a=l)}}a&&a.F.contains(t.getPosition())?a.q(t):(l=new s(i),l.q(t),i.f.push(l))}}function s(e){this.k=e,this.c=e.getMap(),this.g=e.w(),this.l=e.l,this.r=e.r,this.d=g,this.a=[],this.F=g,this.n=new l(this,e.z(),e.w())}function p(e){e.F=e.k.v(new google.maps.LatLngBounds(e.d,e.d))}function l(e,t,o){e.k.extend(l,google.maps.OverlayView),this.j=t,this.fa=o||0,this.u=e,this.d=g,this.c=e.getMap(),this.B=this.b=g,this.t=!1,this.setMap(this.c)}function h(e,t){var o=e.getProjection().fromLatLngToDivPixel(t);return o.x-=parseInt(e.p/2,10),o.y-=parseInt(e.h/2,10),o}function c(e){e.b&&(e.b.style.display="none"),e.t=!1}function d(e,t){var o=[];return o.push("background-image:url("+e.da+");"),o.push("background-position:"+(e.D?e.D:"0 0")+";"),"object"==typeof e.e?("number"==typeof e.e[0]&&e.e[0]>0&&e.e[0]<e.h?o.push("height:"+(e.h-e.e[0])+"px; padding-top:"+e.e[0]+"px;"):o.push("height:"+e.h+"px; line-height:"+e.h+"px;"),"number"==typeof e.e[1]&&e.e[1]>0&&e.e[1]<e.p?o.push("width:"+(e.p-e.e[1])+"px; padding-left:"+e.e[1]+"px;"):o.push("width:"+e.p+"px; text-align:center;")):o.push("height:"+e.h+"px; line-height:"+e.h+"px; width:"+e.p+"px; text-align:center;"),o.push("cursor:pointer; top:"+t.y+"px; left:"+t.x+"px; color:"+(e.M?e.M:"black")+"; position:absolute; font-size:"+(e.N?e.N:11)+"px; font-family:Arial,sans-serif; font-weight:bold"),o.join("")}var u,g=null;u=o.prototype,u.Q="http://editors.eol.org/gmaps_markers/m",u.P="png",u.extend=function(e,t){return function(e){for(var t in e.prototype)this.prototype[t]=e.prototype[t];return this}.apply(e,[t])},u.onAdd=function(){this.A||(this.A=!0,a(this))},u.draw=function(){},u.S=function(){for(var e,t=this.o(),o=new google.maps.LatLngBounds,n=0;e=t[n];n++)o.extend(e.getPosition());this.c.fitBounds(o)},u.z=t("j"),u.o=t("a"),u.V=function(){return this.a.length},u.ba=e("J"),u.I=t("J"),u.G=function(e,t){for(var o=0,n=e.length,i=n;0!==i;)i=parseInt(i/10,10),o++;return o=Math.min(o,t),{text:n,index:o}},u.$=e("G"),u.H=t("G"),u.C=function(e,t){for(var o,n=0;o=e[n];n++)i(this,o);t||this.i()},u.q=function(e,t){i(this,e),t||this.i()},u.Y=function(e,t){var o=r(this,e);return!t&&o?(this.m(),this.i(),!0):!1},u.Z=function(e,t){for(var o,n=!1,i=0;o=e[i];i++)o=r(this,o),n=n||o;return!t&&n?(this.m(),this.i(),!0):void 0},u.U=function(){return this.f.length},u.getMap=t("c"),u.setMap=e("c"),u.w=t("g"),u.aa=e("g"),u.v=function(e){var t=this.getProjection(),o=new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()),n=new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()),o=t.fromLatLngToDivPixel(o);return o.x+=this.g,o.y-=this.g,n=t.fromLatLngToDivPixel(n),n.x-=this.g,n.y+=this.g,o=t.fromDivPixelToLatLng(o),t=t.fromDivPixelToLatLng(n),e.extend(o),e.extend(t),e},u.R=function(){this.m(!0),this.a=[]},u.m=function(e){for(var t,o=0;t=this.f[o];o++)t.remove();for(o=0;t=this.a[o];o++)t.s=!1,e&&t.setMap(g);this.f=[]},u.L=function(){var e=this.f.slice();this.f.length=0,this.m(),this.i(),window.setTimeout(function(){for(var t,o=0;t=e[o];o++)t.remove()},0)},u.i=function(){a(this)},u=s.prototype,u.q=function(e){var t;e:if(this.a.indexOf)t=-1!=this.a.indexOf(e);else{t=0;for(var o;o=this.a[t];t++)if(o==e){t=!0;break e}t=!1}if(t)return!1;if(this.d?this.r&&(o=this.a.length+1,t=(this.d.lat()*(o-1)+e.getPosition().lat())/o,o=(this.d.lng()*(o-1)+e.getPosition().lng())/o,this.d=new google.maps.LatLng(t,o),p(this)):(this.d=e.getPosition(),p(this)),e.s=!0,this.a.push(e),t=this.a.length,t<this.l&&e.getMap()!=this.c&&e.setMap(this.c),t==this.l)for(o=0;t>o;o++)this.a[o].setMap(g);if(t>=this.l&&e.setMap(g),e=this.c.getZoom(),(t=this.k.I())&&e>t)for(e=0;t=this.a[e];e++)t.setMap(this.c);else this.a.length<this.l?c(this.n):(t=this.k.H()(this.a,this.k.z().length),this.n.setCenter(this.d),e=this.n,e.B=t,e.ga=t.text,e.ea=t.index,e.b&&(e.b.innerHTML=t.text),t=Math.max(0,e.B.index-1),t=Math.min(e.j.length-1,t),t=e.j[t],e.da=t.url,e.h=t.height,e.p=t.width,e.M=t.textColor,e.e=t.anchor,e.N=t.textSize,e.D=t.backgroundPosition,this.n.show());return!0},u.getBounds=function(){for(var e,t=new google.maps.LatLngBounds(this.d,this.d),o=this.o(),n=0;e=o[n];n++)t.extend(e.getPosition());return t},u.remove=function(){this.n.remove(),this.a.length=0,delete this.a},u.T=function(){return this.a.length},u.o=t("a"),u.getCenter=t("d"),u.getMap=t("c"),u=l.prototype,u.onAdd=function(){this.b=document.createElement("DIV"),this.t&&(this.b.style.cssText=d(this,h(this,this.d)),this.b.innerHTML=this.B.text),this.getPanes().overlayMouseTarget.appendChild(this.b);var e=this;google.maps.event.addDomListener(this.b,"click",function(){var t=e.u.k;google.maps.event.trigger(t,"clusterclick",e.u),t.O&&e.c.fitBounds(e.u.getBounds())})},u.draw=function(){if(this.t){var e=h(this,this.d);this.b.style.top=e.y+"px",this.b.style.left=e.x+"px"}},u.show=function(){this.b&&(this.b.style.cssText=d(this,h(this,this.d)),this.b.style.display=""),this.t=!0},u.remove=function(){this.setMap(g)},u.onRemove=function(){this.b&&this.b.parentNode&&(c(this),this.b.parentNode.removeChild(this.b),this.b=g)},u.setCenter=e("d"),window.MarkerClusterer=o,o.prototype.addMarker=o.prototype.q,o.prototype.addMarkers=o.prototype.C,o.prototype.clearMarkers=o.prototype.R,o.prototype.fitMapToMarkers=o.prototype.S,o.prototype.getCalculator=o.prototype.H,o.prototype.getGridSize=o.prototype.w,o.prototype.getExtendedBounds=o.prototype.v,o.prototype.getMap=o.prototype.getMap,o.prototype.getMarkers=o.prototype.o,o.prototype.getMaxZoom=o.prototype.I,o.prototype.getStyles=o.prototype.z,o.prototype.getTotalClusters=o.prototype.U,o.prototype.getTotalMarkers=o.prototype.V,o.prototype.redraw=o.prototype.i,o.prototype.removeMarker=o.prototype.Y,o.prototype.removeMarkers=o.prototype.Z,o.prototype.resetViewport=o.prototype.m,o.prototype.repaint=o.prototype.L,o.prototype.setCalculator=o.prototype.$,o.prototype.setGridSize=o.prototype.aa,o.prototype.setMaxZoom=o.prototype.ba,o.prototype.onAdd=o.prototype.onAdd,o.prototype.draw=o.prototype.draw,s.prototype.getCenter=s.prototype.getCenter,s.prototype.getSize=s.prototype.T,s.prototype.getMarkers=s.prototype.o,l.prototype.onAdd=l.prototype.onAdd,l.prototype.draw=l.prototype.draw,l.prototype.onRemove=l.prototype.onRemove}();