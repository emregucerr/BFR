/*!
 * NETEYE Transform & Transition Plugin
 *
 * Copyright (c) 2010 NETEYE GmbH
 * Licensed under the MIT license
 *
 * Author: Felix Gnass [fgnass at neteye dot de]
 * Version: @{VERSION}
 */
!function(e){function t(e,t){var i=e.data("transform");return i||(i=new n,e.data("transform",i)),void 0!==t&&(t===!1||t.reset?i.reset():i.exec(t)),i}function i(t,i){function n(e,t){return e.replace(/\{(\w+)\}/g,function(e,i){return t[i]})}this.reset=function(){e.extend(this,i)},this.format=function(){return n(t,this)},this.reset()}function n(){var t={translate:new i("translate({x}px,{y}px)",{x:0,y:0}),scale:new i("scale({x},{y})",{x:1,y:1}),rotate:new i("rotate({deg}deg)",{deg:0})};o&&(t.translate=new i("translate3d({x}px,{y}px,0px)",{x:0,y:0}),t.scale=new i("scale3d({x},{y},1)",{x:1,y:1}));var n={rotate:function(e){t.rotate.deg=e},rotateBy:function(e){t.rotate.deg+=e},scale:function(e){"number"==typeof e&&(e={x:e,y:e}),t.scale.x=e.x,t.scale.y=e.y},scaleBy:function(e){"number"==typeof e&&(e={x:e,y:e}),t.scale.x*=e.x,t.scale.y*=e.y},translate:function(e){var i=t.translate;e||(e={x:0,y:0}),i.x=void 0!==e.x?parseInt(e.x,10):i.x,i.y=void 0!==e.y?parseInt(e.y,10):i.y},translateBy:function(e){var i=t.translate;i.x+=parseInt(e.x,10)||0,i.y+=parseInt(e.y,10)||0}};this.fn=t,this.exec=function(e){for(var t in e)n[t]&&n[t](e[t])},this.reset=function(){e.each(t,function(){this.reset()})},this.format=function(){var i="";return e.each(t,function(e,t){i+=t.format()+" "}),i}}var s=function(){function t(t){var s="";return void 0!==n[t]?t:(e.each(i,function(){var e=this+t.charAt(0).toUpperCase()+t.substring(1);return void 0!==n[e]?(s=e,!1):void 0}),s)}var i=["Webkit","Moz","O"],n=document.createElement("div").style,s={};return e.each(["transitionDuration","transitionProperty","transform","transformOrigin"],function(){s[this]=t(this)}),s}(),o=function(){var e=document.createElement("div").style;try{return e[s.transform]="translate3d(0,0,0)",e[s.transform].length>0}catch(t){return!1}}();e.fn.transform=function(i){var n=this;return e.fn.transform.supported&&this.each(function(){var o=e(this),a=t(o,i);if(void 0===i)return n=a.fn,!1;var r=i&&i.origin?i.origin:"0 0";o.css(s.transitionDuration,"0s").css(s.transformOrigin,r).css(s.transform,a.format())}),n},e.fn.transform.supported=!!s.transform,e.fn.transition=function(t,i){i=e.extend({delay:0,duration:.4},i);var n="";return e.each(t,function(e){n+=e+","}),this.each(function(){function o(){r.css(s.transitionProperty,n).css(s.transitionDuration,i.duration+"s"),r.css(t),i.duration>0?r.one("webkitTransitionEnd oTransitionEnd transitionend",a):setTimeout(a,1)}function a(){r.css(s.transitionDuration,l),i.onFinish&&e.proxy(i.onFinish,r)()}var r=e(this);if(!e.fn.transition.supported)return r.css(t),i.onFinish&&e.proxy(i.onFinish,r)(),void 0;var l=r.css(s.transitionDuration);i.delay>0?setTimeout(o,i.delay):o()}),this},e.fn.transition.supported=!!s.transitionProperty,e.fn.transformTransition=function(i){i=e.extend({origin:"0 0",css:{}},i);var n=i.css;return e.fn.transform.supported&&(n[s.transform]=t(this,i).format(),this.css(s.transformOrigin,i.origin)),this.transition(n,i)}}(jQuery);