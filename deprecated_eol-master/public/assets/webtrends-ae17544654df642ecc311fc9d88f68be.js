function WebTrends(){var e=this;this.dcsid="dcsg0chobadzpxfga2extd7pb_7c2s",this.domain="logs1.smithsonian.museum",this.timezone=-5,this.fpcdom="",this.onsitedoms="",this.downloadtypes="xls,doc,pdf,txt,csv,zip,docx,xlsx",this.navigationtag="div,table",this.trackevents=!0,this.enabled=!0,this.i18n=!1,this.fpc="WT_FPC",this.paidsearchparams="gclid",this.splitvalue="",this.preserve=!0,this.DCS={},this.WT={},this.DCSext={},this.images=[],this.index=0,this.exre=function(){return window.RegExp?new RegExp("dcs(uri)|(ref)|(aut)|(met)|(sta)|(sip)|(pro)|(byt)|(dat)|(p3p)|(cfg)|(redirect)|(cip)","i"):""}(),this.re=function(){return window.RegExp?e.i18n?{"%25":/\%/g,"%26":/\&/g}:{"%09":/\t/g,"%20":/ /g,"%23":/\#/g,"%26":/\&/g,"%2B":/\+/g,"%3F":/\?/g,"%5C":/\\/g,"%22":/\"/g,"%7F":/\x7F/g,"%A0":/\xA0/g}:""}()}function dcsMultiTrack(){return"undefined"!=typeof _tag?_tag.dcsMultiTrack():void 0}function dcsDebug(){return"undefined"!=typeof _tag?_tag.dcsDebug():void 0}WebTrends.prototype.dcsGetId=function(){this.enabled&&-1==document.cookie.indexOf(this.fpc+"=")&&-1==document.cookie.indexOf("WTLOPTOUT=")&&document.write("<script type='text/javascript' src='http"+(0==window.location.protocol.indexOf("https:")?"s":"")+"://"+this.domain+"/"+this.dcsid+"/wtid.js'></script>")},WebTrends.prototype.dcsGetCookie=function(e){var t=document.cookie.split("; "),i=[],n=0,s=0,o=e.length,r=t.length;for(s=0;r>s;s++){var a=t[s];a.substring(0,o+1)==e+"="&&(i[n++]=a)}var l=i.length;if(l>0){if(n=0,l>1&&e==this.fpc){var c=new Date(0);for(s=0;l>s;s++){var u=parseInt(this.dcsGetCrumb(i[s],"lv")),h=new Date(u);h>c&&(c.setTime(h.getTime()),n=s)}}return unescape(i[n].substring(o+1))}return null},WebTrends.prototype.dcsGetCrumb=function(e,t,i){for(var n=e.split(i||":"),s=0;s<n.length;s++){var o=n[s].split("=");if(t==o[0])return o[1]}return null},WebTrends.prototype.dcsGetIdCrumb=function(e,t){for(var i=e.substring(0,e.indexOf(":lv=")),n=i.split("="),s=0;s<n.length;s++)if(t==n[0])return n[1];return null},WebTrends.prototype.dcsIsFpcSet=function(e,t,i,n){var s=this.dcsGetCookie(e);return s?t==this.dcsGetIdCrumb(s,"id")&&i==this.dcsGetCrumb(s,"lv")&&n==this.dcsGetCrumb(s,"ss")?0:3:2},WebTrends.prototype.dcsFPC=function(){if(-1==document.cookie.indexOf("WTLOPTOUT=")){var e=this.WT,t=this.fpc,i=new Date,n=6e4*i.getTimezoneOffset()+36e5*this.timezone;i.setTime(i.getTime()+n);var s=new Date(i.getTime()+31536e7),o=new Date(i.getTime());if(e.co_f=e.vtid=e.vtvs=e.vt_f=e.vt_f_a=e.vt_f_s=e.vt_f_d=e.vt_f_tlh=e.vt_f_tlv="",-1==document.cookie.indexOf(t+"=")){if("undefined"!=typeof gWtId&&""!=gWtId)e.co_f=gWtId;else if("undefined"!=typeof gTempWtId&&""!=gTempWtId)e.co_f=gTempWtId,e.vt_f="1";else{e.co_f="2";for(var r=i.getTime().toString(),a=2;a<=32-r.length;a++)e.co_f+=Math.floor(16*Math.random()).toString(16);e.co_f+=r,e.vt_f="1"}"undefined"==typeof gWtAccountRollup&&(e.vt_f_a="1"),e.vt_f_s=e.vt_f_d="1",e.vt_f_tlh=e.vt_f_tlv="0"}else{var l=this.dcsGetCookie(t),c=this.dcsGetIdCrumb(l,"id"),u=parseInt(this.dcsGetCrumb(l,"lv")),h=parseInt(this.dcsGetCrumb(l,"ss"));if(null==c||"null"==c||isNaN(u)||isNaN(h))return;e.co_f=c;var d=new Date(u);e.vt_f_tlh=Math.floor((d.getTime()-n)/1e3),o.setTime(h),(i.getTime()>d.getTime()+18e5||i.getTime()>o.getTime()+288e5)&&(e.vt_f_tlv=Math.floor((o.getTime()-n)/1e3),o.setTime(i.getTime()),e.vt_f_s="1"),(i.getDay()!=d.getDay()||i.getMonth()!=d.getMonth()||i.getYear()!=d.getYear())&&(e.vt_f_d="1")}e.co_f=escape(e.co_f),e.vtid="undefined"==typeof this.vtid?e.co_f:this.vtid||"",e.vtvs=(o.getTime()-n).toString();var f="; expires="+s.toGMTString(),p=i.getTime().toString(),m=o.getTime().toString();document.cookie=t+"=id="+e.co_f+":lv="+p+":ss="+m+f+"; path=/"+(""!=this.fpcdom?"; domain="+this.fpcdom:"");var g=this.dcsIsFpcSet(t,e.co_f,p,m);0!=g&&(e.co_f=e.vtvs=e.vt_f_s=e.vt_f_d=e.vt_f_tlh=e.vt_f_tlv="","undefined"==typeof this.vtid&&(e.vtid=""),e.vt_f=e.vt_f_a=g)}},WebTrends.prototype.dcsIsOnsite=function(e){if(e.length>0){if(e=e.toLowerCase(),e==window.location.hostname.toLowerCase())return!0;if("function"==typeof this.onsitedoms.test)return this.onsitedoms.test(e);if(this.onsitedoms.length>0)for(var t=this.dcsSplit(this.onsitedoms),i=t.length,n=0;i>n;n++)if(e==t[n])return!0}return!1},WebTrends.prototype.dcsTypeMatch=function(e,t){for(var i=e.toLowerCase().substring(e.lastIndexOf(".")+1,e.length),n=this.dcsSplit(t),s=n.length,o=0;s>o;o++)if(i==n[o])return!0;return!1},WebTrends.prototype.dcsEvt=function(e,t){for(var i=e.target||e.srcElement;i&&i.tagName&&i.tagName.toLowerCase()!=t.toLowerCase();)i=i.parentElement||i.parentNode;return i},WebTrends.prototype.dcsNavigation=function(e){var t,i,n,s="",o="",r=this.dcsSplit(this.navigationtag),a=r.length;for(t=0;a>t&&(n=r[t],!(n.length&&(i=this.dcsEvt(e,n),s=i.getAttribute&&i.getAttribute("id")?i.getAttribute("id"):"",o=i.className||"",s.length||o.length)));t++);return s.length?s:o},WebTrends.prototype.dcsBind=function(e,t){"function"==typeof t&&document.body&&(document.body.addEventListener?document.body.addEventListener(e,t.wtbind(this),!0):document.body.attachEvent&&document.body.attachEvent("on"+e,t.wtbind(this)))},WebTrends.prototype.dcsET=function(){var e=-1!=navigator.appVersion.indexOf("MSIE")?"click":"mousedown";this.dcsBind(e,this.dcsDownload),this.dcsBind("contextmenu",this.dcsRightClick)},WebTrends.prototype.dcsMultiTrack=function(){var e=dcsMultiTrack.arguments?dcsMultiTrack.arguments:arguments;if(e.length%2==0){this.dcsSaveProps(e),this.dcsSetProps(e);var t=new Date;this.DCS.dcsdat=t.getTime(),this.dcsFPC(),this.dcsTag(),this.dcsRestoreProps()}},WebTrends.prototype.dcsCleanUp=function(){this.DCS={},this.WT={},this.DCSext={},arguments.length%2==0&&this.dcsSetProps(arguments)},WebTrends.prototype.dcsSetProps=function(e){for(var t=0;t<e.length;t+=2)0==e[t].indexOf("WT.")?this.WT[e[t].substring(3)]=e[t+1]:0==e[t].indexOf("DCS.")?this.DCS[e[t].substring(4)]=e[t+1]:0==e[t].indexOf("DCSext.")&&(this.DCSext[e[t].substring(7)]=e[t+1])},WebTrends.prototype.dcsSaveProps=function(e){var t,i,n,s;if(this.preserve)for(this.args=[],t=0,i=0;t<e.length;t+=2)s=e[t],0==s.indexOf("WT.")?(n=s.substring(3),this.args[i]=s,this.args[i+1]=this.WT[n]||"",i+=2):0==s.indexOf("DCS.")?(n=s.substring(4),this.args[i]=s,this.args[i+1]=this.DCS[n]||"",i+=2):0==s.indexOf("DCSext.")&&(n=s.substring(7),this.args[i]=s,this.args[i+1]=this.DCSext[n]||"",i+=2)},WebTrends.prototype.dcsRestoreProps=function(){this.preserve&&(this.dcsSetProps(this.args),this.args=[])},WebTrends.prototype.dcsSplit=function(e){for(var t=e.toLowerCase().split(","),i=t.length,n=0;i>n;n++)t[n]=t[n].replace(/^\s*/,"").replace(/\s*$/,"");return t},WebTrends.prototype.dcsDownload=function(e){if(e=e||window.event||"",e&&("number"!=typeof e.which||1==e.which)){var t=this.dcsEvt(e,"A");if(t.href){var i=t.hostname?t.hostname.split(":")[0]:"";if(this.dcsIsOnsite(i)&&this.dcsTypeMatch(t.pathname,this.downloadtypes)){var n=(t.search?t.search.substring(t.search.indexOf("?")+1,t.search.length):"",t.pathname?0!=t.pathname.indexOf("/")?"/"+t.pathname:t.pathname:"/"),s="",o=document.all?t.innerText:t.text,r=this.dcsEvt(e,"IMG");r.alt?s=r.alt:o?s=o:t.innerHTML&&(s=t.innerHTML),this.dcsMultiTrack("DCS.dcssip",i,"DCS.dcsuri",n,"DCS.dcsqry",t.search||"","WT.ti","Download:"+s,"WT.dl","20","WT.nv",this.dcsNavigation(e))}}}},WebTrends.prototype.dcsRightClick=function(e){if(e=e||window.event||""){var t=e.which||e.button;if(1!=t||-1!=navigator.userAgent.indexOf("Safari")){var i=this.dcsEvt(e,"A");if("undefined"!=typeof i.href&&i.href&&"undefined"!=typeof i.protocol&&i.protocol&&-1!=i.protocol.indexOf("http")&&"undefined"!=typeof i.pathname&&this.dcsTypeMatch(i.pathname,this.downloadtypes)){var n=i.pathname?0!=i.pathname.indexOf("/")?"/"+i.pathname:i.pathname:"/",s=i.hostname?i.hostname.split(":")[0]:"";this.dcsMultiTrack("DCS.dcssip",s,"DCS.dcsuri",n,"DCS.dcsqry","","WT.ti","RightClick:"+n,"WT.dl","25")}}}},WebTrends.prototype.dcsAdv=function(){this.trackevents&&"function"==typeof this.dcsET&&(window.addEventListener?window.addEventListener("load",this.dcsET.wtbind(this),!1):window.attachEvent&&window.attachEvent("onload",this.dcsET.wtbind(this))),this.dcsFPC()},WebTrends.prototype.dcsVar=function(){var e=new Date,t=this.WT,i=this.DCS;if(t.tz=parseInt(e.getTimezoneOffset()/60*-1)||"0",t.bh=e.getHours()||"0",t.ul="Netscape"==navigator.appName?navigator.language:navigator.userLanguage,"object"==typeof screen&&(t.cd="Netscape"==navigator.appName?screen.pixelDepth:screen.colorDepth,t.sr=screen.width+"x"+screen.height),"boolean"==typeof navigator.javaEnabled()&&(t.jo=navigator.javaEnabled()?"Yes":"No"),document.title)if(window.RegExp){var n=new RegExp("^"+window.location.protocol+"//"+window.location.hostname+"\\s-\\s");t.ti=document.title.replace(n,"")}else t.ti=document.title;if(t.js="Yes",t.jv=function(){var e=navigator.userAgent.toLowerCase(),t=parseInt(navigator.appVersion),i=-1!=e.indexOf("mac"),n=-1!=e.indexOf("firefox"),s=-1!=e.indexOf("firefox/0."),o=-1!=e.indexOf("firefox/1.0"),r=-1!=e.indexOf("firefox/1.5"),a=-1!=e.indexOf("firefox/2.0"),l=n&&!s&&!o&!r&!a,c=!n&&-1!=e.indexOf("mozilla")&&-1==e.indexOf("compatible"),u=c&&4==t,h=c&&t>=5,d=-1!=e.indexOf("msie")&&-1==e.indexOf("opera"),f=d&&4==t&&-1!=e.indexOf("msie 4"),p=d&&!f,m=-1!=e.indexOf("opera"),g=-1!=e.indexOf("opera 5")||-1!=e.indexOf("opera/5"),v=-1!=e.indexOf("opera 6")||-1!=e.indexOf("opera/6"),y=m&&!g&&!v,b="1.1";return l?b="1.8":a?b="1.7":r?b="1.6":s||o||h||y?b="1.5":i&&p||v?b="1.4":p||u||g?b="1.3":f&&(b="1.2"),b}(),t.ct="unknown",document.body&&document.body.addBehavior)try{document.body.addBehavior("#default#clientCaps"),t.ct=document.body.connectionType||"unknown",document.body.addBehavior("#default#homePage"),t.hp=document.body.isHomePage(location.href)?"1":"0"}catch(s){}if(t.bs=document.all?document.body?document.body.offsetWidth+"x"+document.body.offsetHeight:"unknown":window.innerWidth+"x"+window.innerHeight,t.fv=function(){var e,t;if(window.ActiveXObject)for(e=15;e>0;e--)try{return t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+e),e+".0"}catch(i){}else if(navigator.plugins&&navigator.plugins.length)for(e=0;e<navigator.plugins.length;e++)if(-1!=navigator.plugins[e].name.indexOf("Shockwave Flash"))return navigator.plugins[e].description.split(" ")[2];return"Not enabled"}(),t.slv=function(){var e="Not enabled";try{if(-1!=navigator.userAgent.indexOf("MSIE")){var t=new ActiveXObject("AgControl.AgControl");t&&(e="Unknown")}else navigator.plugins["Silverlight Plug-In"]&&(e="Unknown")}catch(i){}if("Not enabled"!=e){var n,s,o,r;if("object"==typeof Silverlight&&"function"==typeof Silverlight.isInstalled){for(n=9;n>0&&(o=n,!Silverlight.isInstalled(o+".0"))&&e!=o;n--);for(s=9;s>=0;s--){if(r=o+"."+s,Silverlight.isInstalled(r)){e=r;break}if(e==r)break}}}return e}(),this.i18n&&(t.le="string"==typeof document.defaultCharset?document.defaultCharset:"string"==typeof document.characterSet?document.characterSet:"unknown"),t.tv="9.4.0",t.sp=this.splitvalue,t.dl="0",t.ssl=0==window.location.protocol.indexOf("https:")?"1":"0",i.dcsdat=e.getTime(),i.dcssip=window.location.hostname,i.dcsuri=window.location.pathname,t.es=i.dcssip+i.dcsuri,window.location.search&&(i.dcsqry=window.location.search),i.dcsqry)for(var o=i.dcsqry.toLowerCase(),r=this.paidsearchparams.length?this.paidsearchparams.toLowerCase().split(","):[],a=0;a<r.length;a++)if(-1!=o.indexOf(r[a]+"=")){t.srch="1";break}""!=window.document.referrer&&"-"!=window.document.referrer&&("Microsoft Internet Explorer"==navigator.appName&&parseInt(navigator.appVersion)<4||(i.dcsref=window.document.referrer))},WebTrends.prototype.dcsEscape=function(e,t){if(""!=t){e=e.toString();for(var i in t)t[i]instanceof RegExp&&(e=e.replace(t[i],i));return e}return escape(e)},WebTrends.prototype.dcsA=function(e,t){if(this.i18n&&""!=this.exre&&!this.exre.test(e))if("dcsqry"==e){for(var i="",n=t.substring(1).split("&"),s=0;s<n.length;s++){var o=n[s],r=o.indexOf("=");if(-1!=r){var a=o.substring(0,r),l=o.substring(r+1);0!=s&&(i+="&"),i+=a+"="+this.dcsEncode(l)}}t=t.substring(0,1)+i}else t=this.dcsEncode(t);return"&"+e+"="+this.dcsEscape(t,this.re)},WebTrends.prototype.dcsEncode=function(e){return"function"==typeof encodeURIComponent?encodeURIComponent(e):escape(e)},WebTrends.prototype.dcsCreateImage=function(e){document.images&&(this.images[this.index]=new Image,this.images[this.index].src=e,this.index++)},WebTrends.prototype.dcsMeta=function(){var e;if(document.documentElement?e=document.getElementsByTagName("meta"):document.all&&(e=document.all.tags("meta")),"undefined"!=typeof e)for(var t=e.length,i=0;t>i;i++){{var n=e.item(i).name,s=e.item(i).content;e.item(i).httpEquiv}n.length>0&&(0==n.toUpperCase().indexOf("WT.")?this.WT[n.substring(3)]=s:0==n.toUpperCase().indexOf("DCSEXT.")?this.DCSext[n.substring(7)]=s:0==n.toUpperCase().indexOf("DCS.")&&(this.DCS[n.substring(4)]=s))}},WebTrends.prototype.dcsTag=function(){if(-1==document.cookie.indexOf("WTLOPTOUT=")){var e=this.WT,t=this.DCS,i=this.DCSext,n=this.i18n,s="http"+(0==window.location.protocol.indexOf("https:")?"s":"")+"://"+this.domain+(""==this.dcsid?"":"/"+this.dcsid)+"/dcs.gif?";n&&(e.dep="");for(var o in t)t[o]&&"function"!=typeof t[o]&&(s+=this.dcsA(o,t[o]));for(o in e)e[o]&&"function"!=typeof e[o]&&(s+=this.dcsA("WT."+o,e[o]));for(o in i)i[o]&&"function"!=typeof i[o]&&(n&&(e.dep=0==e.dep.length?o:e.dep+";"+o),s+=this.dcsA(o,i[o]));n&&e.dep.length>0&&(s+=this.dcsA("WT.dep",e.dep)),s.length>2048&&navigator.userAgent.indexOf("MSIE")>=0&&(s=s.substring(0,2040)+"&WT.tu=1"),this.dcsCreateImage(s),this.WT.ad=""}},WebTrends.prototype.dcsDebug=function(){var e=this,t=e.images[0].src,i=t.indexOf("?"),n=t.substring(0,i).split("/"),s="<b>Protocol</b><br><code>"+n[0]+"<br></code>";s+="<b>Domain</b><br><code>"+n[2]+"<br></code>",s+="<b>Path</b><br><code>/"+n[3]+"/"+n[4]+"<br></code>",s+="<b>Query Params</b><code>"+t.substring(i+1).replace(/\&/g,"<br>")+"</code>",s+="<br><b>Cookies</b><br><code>"+document.cookie.replace(/\;/g,"<br>")+"</code>",e.w&&!e.w.closed&&e.w.close(),e.w=window.open("","dcsDebug","width=500,height=650,scrollbars=yes,resizable=yes"),e.w.document.write(s),e.w.focus()},WebTrends.prototype.dcsCollect=function(){this.enabled&&(this.dcsVar(),this.dcsMeta(),this.dcsAdv(),"function"==typeof this.dcsCustom&&this.dcsCustom(),this.dcsTag())},Function.prototype.wtbind=function(e){var t=this,i=function(){return t.apply(e,arguments)};return i};